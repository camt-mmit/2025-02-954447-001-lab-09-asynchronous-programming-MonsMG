import{c as me,d as de}from"./chunk-N2GRL3O3.js";import{$ as Z,B as g,E as U,F as Y,H as M,I as P,J as B,K as G,L as h,M as x,N as w,O as a,P as o,Q as f,R as s,S as d,T as Q,U as S,V as O,W as p,X as r,Y as D,Z as V,_ as X,aa as ee,ba as te,da as k,ea as E,fa as T,ha as ne,ia as ie,j as W,ja as oe,ka as z,l as u,la as N,n as y,na as re,o as C,oa as ae,p as _,pa as ce,q as v,u as q,v as J,y as K,z as m}from"./chunk-EUJ4K67V.js";var R=class n{static \u0275fac=function(e){return new(e||n)};static \u0275cmp=g({type:n,selectors:[["app-assignment-root"]],decls:11,vars:0,consts:[[1,"assignment-container"],[1,"assignment-header"],[1,"assignment-nav"],["routerLink","view","routerLinkActive","active",1,"nav-link"],["routerLink","form","routerLinkActive","active",1,"nav-link"],[1,"assignment-content"]],template:function(e,i){e&1&&(a(0,"div",0)(1,"header",1)(2,"h1"),r(3,"\u{1F3AF} Dynamic Section Assignment"),o()(),a(4,"nav",2)(5,"a",3),r(6," \u{1F4CA} View Data "),o(),a(7,"a",4),r(8," \u270F\uFE0F Edit Data "),o()(),a(9,"main",5),f(10,"router-outlet"),o()())},dependencies:[re,ae,ce],styles:[".assignment-container[_ngcontent-%COMP%]{min-height:100vh;background:#f8fafc}.assignment-header[_ngcontent-%COMP%]{background:#fff;padding:1.75rem 1rem;text-align:center;border-bottom:1px solid #e2e8f0}.assignment-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.75rem;font-weight:600;color:#2d3748;margin:0}.assignment-nav[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:.5rem;padding:1rem;background:#fff;border-bottom:1px solid #e2e8f0}.nav-link[_ngcontent-%COMP%]{padding:.625rem 1.5rem;border-radius:.5rem;text-decoration:none;font-weight:500;font-size:.9375rem;color:#64748b;background:transparent;transition:all .2s ease;border:1px solid transparent}.nav-link[_ngcontent-%COMP%]:hover{background:#f8fafc;color:#475569}.nav-link.active[_ngcontent-%COMP%]{background:#f1f5f9;color:#334155;border-color:#e2e8f0}.assignment-content[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:2rem 1rem}@media(max-width:768px){.assignment-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.5rem}.assignment-nav[_ngcontent-%COMP%]{flex-direction:column;gap:.375rem;padding:.75rem}.nav-link[_ngcontent-%COMP%]{text-align:center}}"]})};function le(n,t){n&1&&(s(0,"div",4),_(),s(1,"svg",6),Q(2,"path",7),d(),v(),s(3,"h3",8),r(4,"No sections found"),d(),s(5,"p",9),r(6,"Get started by creating your first section in the Form page."),d()())}function pe(n,t){n&1&&(s(0,"p",14),r(1,"No numbers in this section"),d())}function ge(n,t){if(n&1&&(s(0,"div",16),r(1),k(2,"number"),d()),n&2){let e=t.$implicit;m(),D(E(2,1,e))}}function fe(n,t){if(n&1&&(s(0,"div",15),h(1,ge,3,3,"div",16,B),d(),s(3,"div",17)(4,"div",18)(5,"span",19),r(6,"Total Sum"),d(),s(7,"span",20),r(8),k(9,"number"),d()()()),n&2){let e=p(),i=e.$implicit,c=e.$index,l=p(2);m(),x(i),m(7),D(E(9,1,l.sumResult()[c]))}}function ue(n,t){if(n&1&&(s(0,"article",10)(1,"div",11)(2,"h2",12),r(3),d(),s(4,"span",13),r(5),d()(),M(6,pe,2,0,"p",14)(7,fe,10,3),d()),n&2){let e=t.$implicit,i=t.$index;m(3),V("Section ",i+1),m(2),X("",e.length," ",e.length===1?"item":"items"),m(),P(e.length===0?6:7)}}function be(n,t){if(n&1&&(s(0,"div",5),h(1,ue,8,4,"article",10,B),d()),n&2){let e=p();m(),x(e.data())}}var I=class n{data=ie.required();sumResult=T(()=>this.data().map(t=>t.reduce((e,i)=>e+i,0)));static \u0275fac=function(e){return new(e||n)};static \u0275cmp=g({type:n,selectors:[["app-dynamic-section-view"]],inputs:{data:[1,"data"]},decls:8,vars:1,consts:[[1,"view-page"],[1,"page-header"],[1,"page-title"],[1,"page-subtitle"],[1,"empty-state"],[1,"sections-grid"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"empty-icon"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"],[1,"empty-title"],[1,"empty-description"],[1,"section-card"],[1,"section-card-header"],[1,"section-title"],[1,"section-badge"],[1,"section-empty"],[1,"numbers-grid"],[1,"number-chip"],[1,"section-footer"],[1,"sum-display"],[1,"sum-label"],[1,"sum-value"]],template:function(e,i){e&1&&(s(0,"div",0)(1,"div",1)(2,"h1",2),r(3,"Dynamic Sections"),d(),s(4,"p",3),r(5,"View your saved sections and calculations"),d()(),M(6,le,7,0,"div",4)(7,be,3,0,"div",5),d()),e&2&&(m(6),P(i.data().length===0?6:7))},dependencies:[N,z],styles:[".view-page[_ngcontent-%COMP%]{max-width:1000px;margin:0 auto;padding:2rem 1.5rem}.page-header[_ngcontent-%COMP%]{margin-bottom:2rem}.page-title[_ngcontent-%COMP%]{font-size:1.875rem;font-weight:600;color:#2d3748;margin:0 0 .5rem}.page-subtitle[_ngcontent-%COMP%]{font-size:.95rem;color:#64748b;margin:0}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:3rem 2rem;background:#f8fafc;border-radius:.75rem;border:1px solid #e2e8f0}.empty-icon[_ngcontent-%COMP%]{width:3rem;height:3rem;color:#cbd5e0;margin:0 auto 1rem}.empty-title[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:500;color:#475569;margin:0 0 .5rem}.empty-description[_ngcontent-%COMP%]{font-size:.875rem;color:#94a3b8;margin:0}.sections-grid[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.25rem}.section-card[_ngcontent-%COMP%]{background:#fff;border-radius:.75rem;padding:1.5rem;border:1px solid #e2e8f0;transition:all .2s ease}.section-card[_ngcontent-%COMP%]:hover{border-color:#cbd5e0;box-shadow:0 2px 8px #0000000a}.section-card-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:1.25rem;padding-bottom:1rem;border-bottom:1px solid #f1f5f9}.section-title[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:600;color:#334155;margin:0}.section-badge[_ngcontent-%COMP%]{font-size:.8125rem;font-weight:500;color:#64748b;background:#f1f5f9;padding:.25rem .625rem;border-radius:.375rem}.numbers-grid[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.625rem;margin-bottom:1.25rem}.number-chip[_ngcontent-%COMP%]{background:#f8fafc;border:1px solid #e2e8f0;padding:.5rem .875rem;border-radius:.375rem;font-weight:500;color:#475569;font-size:.9375rem;min-width:3.5rem;text-align:center}.section-footer[_ngcontent-%COMP%]{padding-top:1rem;border-top:1px solid #f1f5f9}.sum-display[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;background:#f8fafc;padding:.875rem 1rem;border-radius:.5rem}.sum-label[_ngcontent-%COMP%]{font-size:.8125rem;font-weight:600;color:#64748b;text-transform:uppercase;letter-spacing:.05em}.sum-value[_ngcontent-%COMP%]{font-size:1.375rem;font-weight:600;color:#475569}.section-empty[_ngcontent-%COMP%]{text-align:center;color:#94a3b8;font-style:italic;padding:1.5rem 0;margin:0;font-size:.875rem}@media(max-width:768px){.view-page[_ngcontent-%COMP%]{padding:1.5rem 1rem}.page-title[_ngcontent-%COMP%]{font-size:1.5rem}}"]})};var _e="assignment-data",b=class n{keyName=`${u(K)}-${_e}`;async get(){let t=localStorage.getItem(this.keyName);return t?JSON.parse(t):null}async set(t){localStorage.setItem(this.keyName,JSON.stringify(t))}static \u0275fac=function(e){return new(e||n)};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})};var j=class n{storage=u(b);data=q([]);constructor(){this.loadData()}async loadData(){let t=await this.storage.get();t&&this.data.set(t)}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=g({type:n,selectors:[["app-dynamic-section-view-page"]],decls:4,vars:1,consts:[[1,"page-container"],[3,"data"]],template:function(e,i){e&1&&(a(0,"div",0)(1,"h2"),r(2,"\u{1F4CA} Dynamic Section View"),o(),f(3,"app-dynamic-section-view",1),o()),e&2&&(m(3),w("data",i.data()))},dependencies:[N,I],styles:[".page-container[_ngcontent-%COMP%]{max-width:1400px;margin:0 auto}.page-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;color:#1a202c;margin:0 0 2rem;text-align:center;letter-spacing:-.025em}"]})};function ye(n,t){if(n&1){let e=S();a(0,"div",18)(1,"div",23),f(2,"input",24),U(),o(),a(3,"button",25),O("click",function(){let c=y(e).$index,l=p().$index,H=p();return C(H.removeNumber(l,c))}),_(),a(4,"svg",26),f(5,"path",27),o()()()}if(n&2){let e=t.$implicit,i=t.$count;m(2),Y(e,"formField"),m(),w("disabled",i===1)("title",i===1?"Cannot remove last number":"Remove number")}}function Ce(n,t){if(n&1){let e=S();a(0,"article",8)(1,"div",9)(2,"div",10)(3,"h2",11),r(4),o()(),a(5,"div",12)(6,"button",13),O("click",function(){let c=y(e).$index,l=p();return C(l.addNumber(c))}),_(),a(7,"svg",14),f(8,"path",7),o(),r(9," Add Number "),o(),v(),a(10,"button",15),O("click",function(){let c=y(e).$index,l=p();return C(l.removeSection(c))}),_(),a(11,"svg",14),f(12,"path",16),o()()()(),v(),a(13,"div",17),h(14,ye,6,4,"div",18,G),o(),a(16,"div",19)(17,"div",20)(18,"span",21),r(19,"Result Total"),o(),a(20,"span",22),r(21),k(22,"number"),o()()()()}if(n&2){let e=t.$implicit,i=t.$index,c=t.$count,l=p();m(4),V("Section ",i+1),m(6),w("disabled",c===1),m(4),x(e),m(7),D(E(22,3,l.sumResult()[i]))}}var A=class n{storage=u(b);sumResult=T(()=>this.sectionsForm().value().map(t=>t.reduce((e,i)=>e+i,0)));model=oe.required();sectionsForm=me(this.model);addSection(){this.model.update(t=>[...t,[0]])}removeSection(t){this.model().length!==1&&this.model.update(e=>e.filter((i,c)=>c!==t))}addNumber(t){this.model.update(e=>e.map((i,c)=>c!==t?i:[...i,0]))}removeNumber(t,e){this.model()[t].length<=1||this.model.update(i=>i.map((c,l)=>l!==t?c:c.filter((H,se)=>se!==e)))}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=g({type:n,selectors:[["app-dynamic-section-form"]],inputs:{model:[1,"model"]},outputs:{model:"modelChange"},decls:14,vars:0,consts:[[1,"form-page"],[1,"page-header"],[1,"header-content"],[1,"page-title"],[1,"page-subtitle"],["type","button",1,"btn","btn-primary",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"btn-icon"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 4v16m8-8H4"],[1,"section-card"],[1,"section-card-header"],[1,"section-info"],[1,"section-title"],[1,"section-actions"],["type","button",1,"btn","btn-secondary","btn-sm",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"btn-icon-sm"],["type","button",1,"btn","btn-danger","btn-sm",3,"click","disabled"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"],[1,"numbers-list"],[1,"number-item"],[1,"section-footer"],[1,"sum-display"],[1,"sum-label"],[1,"sum-value"],[1,"input-wrapper"],["type","number","placeholder","Enter number",1,"number-input",3,"formField"],["type","button",1,"btn","btn-danger-ghost","btn-icon-only",3,"click","disabled","title"],["fill","none","stroke","currentColor","viewBox","0 0 24 24"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M6 18L18 6M6 6l12 12"]],template:function(e,i){e&1&&(a(0,"div",0)(1,"div",1)(2,"div",2)(3,"div")(4,"h1",3),r(5,"Edit Sections"),o(),a(6,"p",4),r(7,"Manage your dynamic sections and numbers"),o()(),a(8,"button",5),O("click",function(){return i.addSection()}),_(),a(9,"svg",6),f(10,"path",7),o(),r(11," Add Section "),o()()(),h(12,Ce,23,5,"article",8,G),o()),e&2&&(m(12),x(i.sectionsForm))},dependencies:[de,z],styles:['@charset "UTF-8";.form-page[_ngcontent-%COMP%]{max-width:1000px;margin:0 auto;padding:2rem 1.5rem}.page-header[_ngcontent-%COMP%]{margin-bottom:2rem}.header-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;gap:2rem}.page-title[_ngcontent-%COMP%]{font-size:1.875rem;font-weight:600;color:#334155;margin:0 0 .5rem}.page-subtitle[_ngcontent-%COMP%]{font-size:.9375rem;color:#64748b;margin:0}.btn[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.5rem;padding:.625rem 1.25rem;font-size:.9375rem;font-weight:500;border-radius:.5rem;border:none;cursor:pointer;transition:all .2s ease;font-family:inherit}.btn[_ngcontent-%COMP%]:focus{outline:none;box-shadow:0 0 0 3px #94a3b81a}.btn[_ngcontent-%COMP%]:disabled{opacity:.4;cursor:not-allowed}.btn-primary[_ngcontent-%COMP%]{background:#94a3b8;color:#fff}.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){background:#64748b}.btn-secondary[_ngcontent-%COMP%]{background:#f8fafc;color:#64748b;border:1px solid #e2e8f0}.btn-secondary[_ngcontent-%COMP%]:hover:not(:disabled){background:#f1f5f9;border-color:#cbd5e0}.btn-danger[_ngcontent-%COMP%]{background:#f8fafc;color:#dc2626;border:1px solid #e2e8f0}.btn-danger[_ngcontent-%COMP%]:hover:not(:disabled){background:#fee2e2;border-color:#fecaca}.btn-danger-ghost[_ngcontent-%COMP%]{background:transparent;color:#dc2626;padding:.5rem;border:none}.btn-danger-ghost[_ngcontent-%COMP%]:hover:not(:disabled){background:#fef2f2}.btn-sm[_ngcontent-%COMP%]{padding:.5rem .875rem;font-size:.875rem}.btn-icon-only[_ngcontent-%COMP%]{padding:.5rem;width:2.25rem;height:2.25rem;justify-content:center}.btn-icon[_ngcontent-%COMP%], .btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:1.25rem;height:1.25rem;flex-shrink:0}.btn-icon-sm[_ngcontent-%COMP%], .btn-sm[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:1.125rem;height:1.125rem;flex-shrink:0}.btn-icon-only[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:1.25rem;height:1.25rem;flex-shrink:0}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:3rem 2rem;background:#f8fafc;border-radius:.75rem;border:1px solid #e2e8f0}.empty-icon[_ngcontent-%COMP%]{width:3rem;height:3rem;color:#cbd5e0;margin:0 auto 1rem}.empty-title[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:500;color:#475569;margin:0 0 .5rem}.empty-description[_ngcontent-%COMP%]{font-size:.875rem;color:#94a3b8;margin:0}.sections-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.25rem}.section-card[_ngcontent-%COMP%]{background:#fff;border-radius:.75rem;padding:1.5rem;border:1px solid #e2e8f0}.section-card-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:1.25rem;padding-bottom:1rem;border-bottom:1px solid #f1f5f9;gap:1rem}.section-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem}.section-title[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:600;color:#334155;margin:0}.section-count[_ngcontent-%COMP%]{font-size:.8125rem;font-weight:500;color:#64748b;background:#f1f5f9;padding:.25rem .625rem;border-radius:.375rem}.section-actions[_ngcontent-%COMP%]{display:flex;gap:.5rem;flex-shrink:0}.numbers-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.75rem;margin-bottom:1.25rem}.number-item[_ngcontent-%COMP%]{display:flex;gap:.75rem;align-items:center}.input-wrapper[_ngcontent-%COMP%]{flex:1}.number-input[_ngcontent-%COMP%]{width:100%;max-width:50rem;padding:.625rem .875rem;font-size:.9375rem;border:1px solid #e2e8f0;border-radius:.5rem;background:#fff;color:#334155;font-family:inherit;transition:all .2s ease}.number-input[_ngcontent-%COMP%]:hover{border-color:#cbd5e0}.number-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#94a3b8;box-shadow:0 0 0 3px #94a3b81a}.number-input[_ngcontent-%COMP%]::placeholder{color:#cbd5e0}.section-footer[_ngcontent-%COMP%]{padding-top:1rem;border-top:1px solid #f1f5f9;margin-top:.5rem}.sum-display[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;background:#f8fafc;padding:.875rem 1rem;border-radius:.5rem}.sum-label[_ngcontent-%COMP%]{font-size:.8125rem;font-weight:600;color:#64748b;text-transform:uppercase;letter-spacing:.05em}.sum-value[_ngcontent-%COMP%]{font-size:1.375rem;font-weight:600;color:#475569}.section-empty[_ngcontent-%COMP%]{text-align:center;padding:2rem 1rem;background:#f8fafc;border-radius:.5rem;border:1px dashed #e2e8f0;margin-bottom:1rem}.section-empty[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#94a3b8;font-size:.875rem;margin:0}@media(max-width:768px){.form-page[_ngcontent-%COMP%]{padding:1.5rem 1rem}.page-title[_ngcontent-%COMP%]{font-size:1.5rem}.header-content[_ngcontent-%COMP%]{flex-direction:column;gap:1rem}.btn-primary[_ngcontent-%COMP%]{width:100%;justify-content:center}.section-card-header[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch}.section-actions[_ngcontent-%COMP%]{width:100%}.section-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{flex:1}}'],changeDetection:0})};function he(n,t){if(n&1){let e=S();a(0,"app-dynamic-section-form",2),te("modelChange",function(c){y(e);let l=p();return ee(l.dataResource.value,c)||(l.dataResource.value=c),C(c)}),o()}if(n&2){let e=p();Z("model",e.dataResource.value)}}function xe(n,t){n&1&&(a(0,"p"),r(1,"Loading..."),o())}var L=class n{dataStorage=u(b);dataResource=ne({loader:async()=>await this.dataStorage.get()??[[0]]});constructor(){J(()=>{this.dataResource.hasValue()&&this.dataStorage.set(this.dataResource.value())})}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=g({type:n,selectors:[["app-dynamic-section-form-page"]],decls:5,vars:1,consts:[[1,"page-container"],[3,"model"],[3,"modelChange","model"]],template:function(e,i){e&1&&(a(0,"div",0)(1,"h2"),r(2,"\u270F\uFE0F Dynamic Section Form"),o(),M(3,he,1,1,"app-dynamic-section-form",1)(4,xe,2,0,"p"),o()),e&2&&(m(3),P(i.dataResource.hasValue()?3:4))},dependencies:[A],styles:[".page-container[_ngcontent-%COMP%]{max-width:1400px;margin:0 auto}.page-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;color:#1a202c;margin:0 0 2rem;text-align:center;letter-spacing:-.025em}"]})};var it=[{path:"",component:R,children:[{path:"",redirectTo:"view",pathMatch:"full"},{path:"view",component:j},{path:"form",component:L}]}];export{it as default};
