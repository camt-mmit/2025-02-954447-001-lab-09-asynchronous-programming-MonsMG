import{a as de,b as le,c as me,d as fe}from"./chunk-N2GRL3O3.js";import{$ as H,B as s,E as _,F as P,H as h,I as M,K as B,L as W,M as q,N as g,O as a,P as r,Q as f,R as c,S as p,U as E,V as w,W as u,X as o,Y as b,Z as J,_ as G,a as R,aa as Q,b as $,ba as U,c as z,da as X,ea as Y,fa as Z,ga as ee,ha as S,ia as te,j as L,ja as ne,ka as ie,l as x,n as C,na as oe,o as y,oa as re,pa as ae,v as F,y as K,z as d}from"./chunk-EUJ4K67V.js";var D=class t{static \u0275fac=function(e){return new(e||t)};static \u0275cmp=s({type:t,selectors:[["app-profile-root"]],decls:13,vars:0,consts:[[1,"app-cmp-nav"],["routerLinkActive","app-st-active"],["routerLink","./view"],[1,"material-symbols-outlined"],["routerLink","./form"]],template:function(e,n){e&1&&(a(0,"nav")(1,"ul",0)(2,"li",1)(3,"a",2)(4,"i",3),o(5,"view_list"),r(),o(6," View "),r()(),a(7,"li",1)(8,"a",4)(9,"i",3),o(10,"edit_document"),r(),o(11," Form "),r()()()(),f(12,"router-outlet"))},dependencies:[re,oe,ae],styles:["[_nghost-%COMP%]{display:block;min-height:100vh;background:#f8fafc}nav[_ngcontent-%COMP%]{background:#fff;border-bottom:1px solid #e2e8f0;padding:1rem;position:sticky;top:0;z-index:10}router-outlet[_ngcontent-%COMP%]{display:block;max-width:1000px;margin:0 auto;padding:2rem 1.5rem}@media(max-width:768px){router-outlet[_ngcontent-%COMP%]{padding:1.5rem 1rem}}"],changeDetection:0})};function ge(t){return{value:t}}function _e(t){return t.value}function j(){return""}function ce(){return{studentId:"",firstname:"",lastname:"",age:0,autobiography:"",friends:[j()]}}function A(t){return ge(t)}function pe(t){let n=t,{friends:i}=n,e=z(n,["friends"]);return $(R({},e),{friends:i.map(A)})}function Pe(t){return _e(t)}function se(t){let n=t,{friends:i}=n,e=z(n,["friends"]);return $(R({},e),{friends:i.map(Pe)})}function be(t,i){if(t&1){let e=E();a(0,"div",10)(1,"button",11),w("click",function(){let l=C(e).$index,m=u();return y(m.moveFriend(l,-1))}),a(2,"i",9),o(3,"arrow_upward_alt"),r()(),a(4,"button",11),w("click",function(){let l=C(e).$index,m=u();return y(m.moveFriend(l,1))}),a(5,"i",9),o(6,"arrow_downward_alt"),r()(),a(7,"span",12)(8,"label")(9,"b"),o(10," Friend "),a(11,"span",13),o(12),r()(),f(13,"input",3),_(),r()(),a(14,"button",14),w("click",function(){let l=C(e).$index,m=u();return y(m.removeFriend(l))}),a(15,"i",9),o(16,"delete_forever"),r()()()}if(t&2){let e=i.$implicit,n=i.$index,l=i.$index,m=i.$count,ue=i.$count;d(),g("disabled",l===0),d(3),g("disabled",l===ue-1),d(8),b(n+1),d(),P(e.value,"formField"),d(),g("disabled",m===1)}}var V=class t{data=ne.required();syncedSource=null;model=ee({source:this.data,computation:(i,e)=>typeof e>"u"||this.syncedSource!==i?pe(i):e.value});friendsCountKey=le();form=me(this.model,i=>{de(i.friends,this.friendsCountKey,({value:e})=>e().length)});constructor(){F(()=>{this.syncedSource=se(this.model()),this.data.set(this.syncedSource)})}addFriend(){this.form.friends().value.update(i=>[...i,A(j())])}removeFriend(i){this.form.friends().value.update(e=>e.filter((n,l)=>l!==i))}moveFriend(i,e){this.form.friends().value.update(n=>n.map((l,m)=>m===i?n[i+e]:m===i+e?n[i]:l))}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=s({type:t,selectors:[["app-profile-form"]],inputs:{data:[1,"data"]},outputs:{data:"dataChange"},decls:33,vars:15,consts:[[1,"_main-form",3,"disabled"],[1,"_info-form"],["type","text","inputmode","numeric",3,"formField"],["type","text",3,"formField"],["type","number",3,"formField"],["rows","5",3,"formField"],[1,"_friends-form",3,"disabled"],[1,"app-cl-number"],["type","button",1,"app-cmp-button",3,"click"],[1,"material-symbols-outlined"],[1,"_friend-container"],["type","button",1,"app-cmp-button",3,"click","disabled"],[1,"_friend-input"],[1,"_friend-title-no","app-cl-number"],["type","button",1,"app-cmp-button","app-cl-warn",3,"click","disabled"]],template:function(e,n){e&1&&(a(0,"fieldset",0)(1,"div",1)(2,"label")(3,"b"),o(4,"Student ID"),r(),f(5,"input",2),_(),r(),a(6,"label")(7,"b"),o(8,"Firstname"),r(),f(9,"input",3),_(),r(),a(10,"label")(11,"b"),o(12,"Lastname"),r(),f(13,"input",3),_(),r(),a(14,"label")(15,"b"),o(16,"Age"),r(),f(17,"input",4),_(),r(),a(18,"label")(19,"b"),o(20,"Autobiography"),r(),f(21,"textarea",5),_(),r()(),a(22,"fieldset",6)(23,"legend"),o(24," Friends "),a(25,"span",7),o(26),X(27,"number"),r(),a(28,"button",8),w("click",function(){return n.addFriend()}),a(29,"i",9),o(30,"add"),r()()(),W(31,be,17,6,"div",10,B),r()()),e&2&&(g("disabled",n.form().disabled()),d(5),P(n.form.studentId,"formField"),d(4),P(n.form.firstname,"formField"),d(4),P(n.form.lastname,"formField"),d(4),P(n.form.age,"formField"),d(4),P(n.form.autobiography,"formField"),d(),g("disabled",n.form.friends().disabled()),d(4),J("(",Y(27,13,n.form.friends().metadata(n.friendsCountKey)()),")"),d(5),q(n.form.friends))},dependencies:[fe,ie],styles:["._main-form[_ngcontent-%COMP%]{border:none;padding:2rem;margin:0}._info-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;margin-bottom:1.5rem}._info-form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.375rem}._info-form[_ngcontent-%COMP%]   b[_ngcontent-%COMP%]{font-size:.8125rem;font-weight:600;color:#64748b;text-transform:uppercase;letter-spacing:.05em}._info-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], ._info-form[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{padding:.625rem .875rem;font-size:.9375rem;border:1px solid #e2e8f0;border-radius:.5rem;background:#fff;color:#334155;font-family:inherit;transition:all .2s ease}._info-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:hover, ._info-form[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:hover{border-color:#cbd5e0}._info-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, ._info-form[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:#94a3b8;box-shadow:0 0 0 3px #94a3b81a}._info-form[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{resize:vertical;line-height:1.6}._friends-form[_ngcontent-%COMP%]{background:#f8fafc;border:1px solid #e2e8f0;border-radius:.75rem;padding:1.25rem;margin:0}._friends-form[_ngcontent-%COMP%]   legend[_ngcontent-%COMP%]{font-size:.8125rem;font-weight:600;color:#64748b;text-transform:uppercase;letter-spacing:.05em;padding:0 .5rem;display:flex;align-items:center;gap:.5rem}._friend-container[_ngcontent-%COMP%]{display:flex;gap:.5rem;align-items:flex-end;margin-top:.875rem;padding:.875rem;background:#fff;border-radius:.5rem;border:1px solid #e2e8f0}._friend-input[_ngcontent-%COMP%]{flex:1}._friend-input[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.375rem}._friend-input[_ngcontent-%COMP%]   b[_ngcontent-%COMP%]{font-size:.75rem;font-weight:600;color:#64748b}._friend-title-no[_ngcontent-%COMP%]{font-weight:400;margin-left:.25rem}._friend-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:.5rem .75rem;font-size:.9375rem;border:1px solid #e2e8f0;border-radius:.375rem;background:#fff;color:#334155;transition:all .2s ease}._friend-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:hover{border-color:#cbd5e0}._friend-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none;border-color:#94a3b8;box-shadow:0 0 0 3px #94a3b81a}@media(max-width:768px){._friend-container[_ngcontent-%COMP%]{flex-wrap:wrap}._friend-input[_ngcontent-%COMP%]{flex-basis:100%;order:-1}}"],changeDetection:0})};var xe="profile-data",v=class t{keyName=`${x(K)}-${xe}`;async get(){return JSON.parse(localStorage.getItem(this.keyName)??"null")}async set(i){return localStorage.setItem(this.keyName,JSON.stringify(i))}static \u0275fac=function(e){return new(e||t)};static \u0275prov=L({token:t,factory:t.\u0275fac,providedIn:"root"})};function Ce(t,i){if(t&1){let e=E();a(0,"app-profile-form",1),U("dataChange",function(l){C(e);let m=u();return Q(m.dataResource.value,l)||(m.dataResource.value=l),y(l)}),r()}if(t&2){let e=u();H("data",e.dataResource.value)}}var I=class t{dataStorage=x(v);dataResource=S({loader:async()=>await this.dataStorage.get()??ce()});constructor(){F(()=>{this.dataResource.hasValue()&&this.dataStorage.set(this.dataResource.value())})}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=s({type:t,selectors:[["app-profile-form-page"]],decls:1,vars:1,consts:[[3,"data"],[3,"dataChange","data"]],template:function(e,n){e&1&&h(0,Ce,1,1,"app-profile-form",0),e&2&&M(n.dataResource.hasValue()?0:-1)},dependencies:[V],encapsulation:2,changeDetection:0})};var T=class t{data=te.required();friends=Z(()=>this.data().friends.join(", "));static \u0275fac=function(e){return new(e||t)};static \u0275cmp=s({type:t,selectors:[["app-profile-view"]],inputs:{data:[1,"data"]},decls:23,vars:6,consts:[[1,"_main-data"],[1,"app-cl-code"],[1,"app-cl-number"],[1,"_autobiography"]],template:function(e,n){e&1&&(c(0,"dl",0)(1,"dt"),o(2,"Student ID"),p(),c(3,"dd")(4,"span",1),o(5),p()(),c(6,"dt"),o(7,"Fullname"),p(),c(8,"dd"),o(9),p(),c(10,"dt"),o(11,"Age"),p(),c(12,"dd")(13,"span",2),o(14),p()(),c(15,"dt"),o(16,"Autobiography"),p(),c(17,"dd",3),o(18),p(),c(19,"dt"),o(20,"Friends"),p(),c(21,"dd"),o(22),p()()),e&2&&(d(5),b(n.data().studentId),d(4),G("",n.data().firstname," ",n.data().lastname),d(5),b(n.data().age),d(4),b(n.data().autobiography),d(4),b(n.friends()))},styles:["._main-data[_ngcontent-%COMP%]{background:#fff;border:1px solid #e2e8f0;border-radius:.75rem;padding:1.5rem;margin:0 auto;width:100%;max-width:1680px}._main-data[_ngcontent-%COMP%]   dt[_ngcontent-%COMP%]{font-size:.8125rem;font-weight:600;color:#64748b;text-transform:uppercase;letter-spacing:.05em;margin-top:1rem;margin-bottom:.375rem}._main-data[_ngcontent-%COMP%]   dt[_ngcontent-%COMP%]:first-child{margin-top:0}._main-data[_ngcontent-%COMP%]   dd[_ngcontent-%COMP%]{font-size:.9375rem;color:#334155;margin:0;padding:.625rem .875rem;background:#f8fafc;border-radius:.375rem;border:1px solid #e2e8f0}._main-data[_ngcontent-%COMP%]   dd._autobiography[_ngcontent-%COMP%]{white-space:pre-wrap;line-height:1.6;min-height:4rem}"],changeDetection:0})};function ye(t,i){t&1&&f(0,"app-profile-view",0),t&2&&g("data",i)}function ve(t,i){t&1&&(a(0,"p",1)(1,"i",2),o(2,"warning"),r(),o(3," Not Found!!! "),r())}function he(t,i){if(t&1&&h(0,ye,1,1,"app-profile-view",0)(1,ve,4,0,"p",1),t&2){let e,n=u();M((e=n.dataResource.value())?0:1,e)}}var N=class t{dataStorage=x(v);dataResource=S({loader:async()=>await this.dataStorage.get()});static \u0275fac=function(e){return new(e||t)};static \u0275cmp=s({type:t,selectors:[["app-profile-view-page"]],decls:1,vars:1,consts:[[3,"data"],[1,"_message"],[1,"material-symbols-outlined"]],template:function(e,n){e&1&&h(0,he,2,1),e&2&&M(n.dataResource.hasValue()?0:-1)},dependencies:[T],styles:["._message[_ngcontent-%COMP%]{text-align:center;padding:3rem 2rem;background:#fff5f5;border:1px solid #fecaca;border-radius:.75rem;color:#dc2626;display:flex;align-items:center;justify-content:center;gap:.5rem;font-size:.9375rem;font-weight:500;margin:0}._message[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.5rem}"],changeDetection:0})};var ot=[{path:"",component:D,children:[{path:"",redirectTo:"view",pathMatch:"full"},{path:"view",component:N},{path:"form",component:I}]}];export{ot as default};
